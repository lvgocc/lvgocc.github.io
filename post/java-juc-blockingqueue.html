<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="ä¸“æ³¨å¹¶å‘ç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹ã€å¤§æ•°æ®æ–¹å‘ç›¸å…³å†…å®¹ç ”ç©¶ã€‚">
  <meta name="keyword" content="lvgo star dust">
  
    <link rel="shortcut icon" type="image/ico" href="../images/L.png"/>
  
  <title>
    
      7ä¸ªé˜»å¡é˜Ÿåˆ— | Star Dust æ˜Ÿå°˜
    
  </title>
  <link href='//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css' rel="stylesheet">
  <link href='//lib.baomitu.com/nprogress/0.2.0/nprogress.min.css' rel="stylesheet">
  <link href="//lib.baomitu.com/highlight.js/9.15.10/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src='//lib.baomitu.com/jquery/3.5.0/jquery.min.js'></script>
  <script src='//lib.baomitu.com/geopattern/1.2.3/js/geopattern.min.js'></script>
  <script src='//lib.baomitu.com/nprogress/0.2.0/nprogress.min.js'></script>
  
  
  
    <link rel="stylesheet" href='//lib.baomitu.com/gitalk/1.6.2/gitalk.min.css'>
    <script src='//lib.baomitu.com/gitalk/1.6.2/gitalk.min.js'></script>
  

  
    <link crossorigin="anonymous" integrity="sha384-Q8BgkilbsFGYNNiDqJm69hvDS7NCJWOodvfK/cwTyQD4VQA0qKzuPpvqNER1UC0F" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    <script crossorigin="anonymous" integrity="sha384-Zm+UU4tdcfAm29vg+MTbfu//q5B/lInMbMCr4T8c9rQFyOv6PlfQYpB5wItcXWe7" src="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  


  

  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=sV9GoccAvPsX-CXyXEeaUzDEvk4d77Ca-eoFKT5-2RM"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'sV9GoccAvPsX-CXyXEeaUzDEvk4d77Ca-eoFKT5-2RM');
    </script>

<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Star Dust æ˜Ÿå°˜" type="application/atom+xml">
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo">
          <img src="/images/L.png" alt="logo"/>
      </div>
      <span>Star Dust æ˜Ÿå°˜</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">æ ‡ç­¾</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">å½’æ¡£</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">å¼€æºé¡¹ç›®</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">é¦–é¡µ</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">æ ‡ç­¾</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">å½’æ¡£</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">å¼€æºé¡¹ç›®</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>7ä¸ªé˜»å¡é˜Ÿåˆ—</h2>
  <p class="post-date"><i class="fa fa-calendar" aria-hidden="true"></i>ã€€2020-07-29</p>
  <!-- Tags START -->
  
      
  <a href="/tags#å¹¶å‘ç¼–ç¨‹" >
    <span class="tag-code">å¹¶å‘ç¼–ç¨‹</span>
  </a>

  
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><blockquote>
<p>çœ¼ç›çœ‹åˆ°çš„ä¸æ˜¯ä½ çš„ï¼Œä½†ä½ çœ‹åˆ°ä¹‹åå°†å…¶æ€æƒ³å¤åˆ»åçš„äº§ç‰©ä¾¿æ˜¯ä½ çš„ã€‚ï¼ˆä»€ä¹ˆæ˜¯å€Ÿé‰´ï¼Ÿï¼‰</p>
</blockquote>
<a id="more"></a>

<h2 id="åº"><a href="#åº" class="headerlink" title="åº"></a>åº</h2><p>æœ¬æ–‡æŠ±ç€äº’ç›¸å­¦ä¹ åˆ†äº«ã€æŠ€æœ¯ç§¯ç´¯ä½¿å…¶æ…¢æ…¢æ²‰æ·€çš„æ€åº¦å†™ä½œï¼Œå¦‚æœ‰é”™è¯¯æœ›å„ä½å¤§ä½¬åŒä»æŒ‡æ­£ã€‚</p>
<p><em>æ–‡ä¸­å‡ºç°ä»£ç æ¥è‡ª jdk 1.8</em></p>
<p><strong>é˜Ÿåˆ—</strong></p>
<blockquote>
<p>FIFO(å…ˆè¿›å…ˆå‡º)çš„æ•°æ®ç»“æ„å³ä¸ºé˜Ÿåˆ—</p>
</blockquote>
<p>é˜»å¡é˜Ÿåˆ—</p>
<blockquote>
<p>æ“ä½œä¼šè¢«é˜»å¡çš„é˜Ÿåˆ—å³ä¸ºé˜»å¡é˜Ÿåˆ—, åœ¨javaä¸­ BlockingQueue æ¥å£åœ¨ Queue æ¥å£çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸¤ç»„é˜»å¡æ–¹æ³•, offer(e,time) put , poll(time) take()</p>
</blockquote>
<h2 id="æˆ‘ä¹Ÿæ¥è¯´ä¸€è¯´Javaçš„7ä¸ªé˜»å¡é˜Ÿåˆ—"><a href="#æˆ‘ä¹Ÿæ¥è¯´ä¸€è¯´Javaçš„7ä¸ªé˜»å¡é˜Ÿåˆ—" class="headerlink" title="æˆ‘ä¹Ÿæ¥è¯´ä¸€è¯´Javaçš„7ä¸ªé˜»å¡é˜Ÿåˆ—"></a>æˆ‘ä¹Ÿæ¥è¯´ä¸€è¯´Javaçš„7ä¸ªé˜»å¡é˜Ÿåˆ—</h2><ul>
<li>æœ‰ç•Œ: åœ¨åˆ›å»ºé˜Ÿåˆ—æ—¶å¿…é¡»æˆ–å…è®¸æŒ‡å®šé˜Ÿåˆ—å¤§å°, å…è®¸è°ƒç”¨æŠ›å‡ºå¼‚å¸¸çš„ add æ–¹æ³•</li>
<li>æ— ç•Œ: åœ¨åˆ›å»ºé˜Ÿåˆ—æ—¶æ— éœ€æˆ–ä¸å¯ä»¥æŒ‡å®šé˜Ÿåˆ—å¤§å°, æ— é™åˆ¶çš„æ’å…¥ add = offer æ“ä½œ</li>
</ul>
<p>é˜»å¡é˜Ÿåˆ—çš„å‡ ä¸ªæ“ä½œæ–¹æ³•</p>
<table>
<thead>
<tr>
<th></th>
<th>æŠ›å‡ºå¼‚å¸¸</th>
<th>ç‰¹æ®Šå€¼</th>
<th>é˜»å¡</th>
<th>è¶…æ—¶</th>
</tr>
</thead>
<tbody><tr>
<td>æ’å…¥</td>
<td>add(e)</td>
<td>offer(e)</td>
<td>put(e)</td>
<td>offer(e,time,unit)</td>
</tr>
<tr>
<td>ç§»é™¤</td>
<td>remove()</td>
<td>poll()</td>
<td>take()</td>
<td>poll(time,unit)</td>
</tr>
<tr>
<td>æ£€æŸ¥</td>
<td>element()</td>
<td>peek()</td>
<td>ä¸å¯ç”¨</td>
<td>ä¸å¯ç”¨</td>
</tr>
</tbody></table>
<h3 id="1-ArrayBlockingQueue-æœ‰ç•Œ"><a href="#1-ArrayBlockingQueue-æœ‰ç•Œ" class="headerlink" title="1. ArrayBlockingQueue[æœ‰ç•Œ]"></a>1. ArrayBlockingQueue[æœ‰ç•Œ]</h3><p>ä¸€ä¸ªä½¿ç”¨æ•°ç»„å®ç°çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—. åˆ›å»ºé˜Ÿåˆ—æ—¶å¿…é¡»ç»™å®šé˜Ÿåˆ—å¤§å°, åŒæ—¶å¯ä»¥é€šè¿‡åˆ›å»ºé˜Ÿåˆ—çš„æ—¶å€™è®¾ç½®å…¬å¹³è®¿é—®(é€šè¿‡é‡å…¥é”çš„å…¬å¹³è®¿é—®å®ç°)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayBlockingQueue</span><span class="hljs-params">(<span class="hljs-keyword">int</span> capacity, <span class="hljs-keyword">boolean</span> fair)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (capacity &lt;= <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();<br>        <span class="hljs-keyword">this</span>.items = <span class="hljs-keyword">new</span> Object[capacity];<br>        lock = <span class="hljs-keyword">new</span> ReentrantLock(fair);<br>        notEmpty = lock.newCondition();<br>        notFull =  lock.newCondition();<br>    &#125;<br></code></pre></td></tr></table></figure>



<h4 id="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ"><a href="#å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ" class="headerlink" title="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ"></a>å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</h4><p> æ ¹æ®è°ƒç”¨ä¸åŒçš„æ–¹æ³•, è¿”å›ä¸åŒçš„çŠ¶æ€</p>
<p><strong>add æ–¹æ³•å°†æŠ›å‡ºå¼‚å¸¸</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span><span class="hljs-params">(E e)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (offer(e))<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">&quot;Queue full&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>

<p><strong>offer æ–¹æ³•å°†è¿”å› false</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">offer</span><span class="hljs-params">(E e)</span> </span>&#123;<br>        checkNotNull(e);<br>        <span class="hljs-keyword">final</span> ReentrantLock lock = <span class="hljs-keyword">this</span>.lock;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">if</span> (count == items.length)<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            <span class="hljs-keyword">else</span> &#123;<br>                enqueue(e);<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>

<p><strong>put æ–¹æ³•å°†æ— é™æ—¶é˜»å¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(E e)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;<br>        checkNotNull(e);<br>        <span class="hljs-keyword">final</span> ReentrantLock lock = <span class="hljs-keyword">this</span>.lock;<br>        lock.lockInterruptibly();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span> (count == items.length)<br>                notFull.await();<br>            enqueue(e);<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>

<p><strong>offer(E e, long timeout, TimeUnit unit) å°†è¶…æ—¶é˜»å¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">offer</span><span class="hljs-params">(E e, <span class="hljs-keyword">long</span> timeout, TimeUnit unit)</span></span><br><span class="hljs-function">        <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;<br><br>        checkNotNull(e);<br>        <span class="hljs-keyword">long</span> nanos = unit.toNanos(timeout);<br>        <span class="hljs-keyword">final</span> ReentrantLock lock = <span class="hljs-keyword">this</span>.lock;<br>        lock.lockInterruptibly();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span> (count == items.length) &#123;<br>                <span class="hljs-keyword">if</span> (nanos &lt;= <span class="hljs-number">0</span>)<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>                nanos = notFull.awaitNanos(nanos);<br>            &#125;<br>            enqueue(e);<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>

<h4 id="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶"><a href="#é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶" class="headerlink" title="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶"></a>é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</h4><p><strong>poll æ–¹æ³•è¿”å›ç©º</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">poll</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">final</span> ReentrantLock lock = <span class="hljs-keyword">this</span>.lock;<br>    lock.lock();<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">return</span> (count == <span class="hljs-number">0</span>) ? <span class="hljs-keyword">null</span> : dequeue();<br>    &#125; <span class="hljs-keyword">finally</span> &#123;<br>        lock.unlock();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>take å°†æ— é™æ—¶é˜»å¡</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">take</span>(<span class="hljs-params"></span>) throws InterruptedException</span> &#123;<br>    final ReentrantLock <span class="hljs-keyword">lock</span> = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">lock</span>;<br>    <span class="hljs-keyword">lock</span>.lockInterruptibly();<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">while</span> (count == <span class="hljs-number">0</span>)<br>            notEmpty.<span class="hljs-keyword">await</span>();<br>        <span class="hljs-keyword">return</span> dequeue();<br>    &#125; <span class="hljs-keyword">finally</span> &#123;<br>        <span class="hljs-keyword">lock</span>.unlock();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>poll(long timeout, TimeUnit unit) è¶…æ—¶é˜»å¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">poll</span><span class="hljs-params">(<span class="hljs-keyword">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>&#123;<br>    <span class="hljs-keyword">long</span> nanos = unit.toNanos(timeout);<br>    <span class="hljs-keyword">final</span> ReentrantLock lock = <span class="hljs-keyword">this</span>.lock;<br>    lock.lockInterruptibly();<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">while</span> (count == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">if</span> (nanos &lt;= <span class="hljs-number">0</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>            nanos = notEmpty.awaitNanos(nanos);<br>        &#125;<br>        <span class="hljs-keyword">return</span> dequeue();<br>    &#125; <span class="hljs-keyword">finally</span> &#123;<br>        lock.unlock();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>æ•°ç»„æœ‰ç•Œé˜Ÿåˆ—</li>
<li>å¯åŠ å…¥å…¬å¹³ç­–ç•¥</li>
<li>æ’å…¥æ—¶æä¾›äº†å¯æŠ›å‡ºå¼‚å¸¸æ“ä½œ</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
<blockquote>
<p>è¯¥é˜Ÿåˆ—æ¨¡å¼é€‚åˆåœ¨éœ€è¦å…¬å¹³è®¿é—®çš„åœºæ™¯ä¸‹ä½¿ç”¨, è‹¥æ— å…¬å¹³æ€§è¦æ±‚è¯¥é˜Ÿåˆ—ä¸ªäººæ‹™è§ä¸å»ºè®®ä½¿ç”¨, å› æ“ä½œæ•°ç»„å’Œå…¬å¹³æ€§åŸå› ,å…¶ååé‡è¾ƒä½</p>
</blockquote>
<hr>
<h3 id="2-LinkedBlockingQueue-æœ‰ç•Œ"><a href="#2-LinkedBlockingQueue-æœ‰ç•Œ" class="headerlink" title="2. LinkedBlockingQueue[æœ‰ç•Œ]"></a>2. LinkedBlockingQueue[æœ‰ç•Œ]</h3><p>ä¸€ä¸ªä½¿ç”¨é“¾è¡¨å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedBlockingQueue</span><span class="hljs-params">(<span class="hljs-keyword">int</span> capacity)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (capacity &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();<br>    <span class="hljs-keyword">this</span>.capacity = capacity;<br>    last = head = <span class="hljs-keyword">new</span> Node&lt;E&gt;(<span class="hljs-keyword">null</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœä¸æŒ‡å®šå¤§å°, é»˜è®¤å€¼ä¸º int çš„æœ€å¤§å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedBlockingQueue</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">this</span>(Integer.MAX_VALUE);<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ-1"><a href="#å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ-1" class="headerlink" title="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ"></a>å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</h4><h4 id="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶-1"><a href="#é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶-1" class="headerlink" title="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶"></a>é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</h4><p>ä¸ [ArrayBlockingQueue](#1. ArrayBlockingQueue[æœ‰ç•Œ]) ç›¸åŒ</p>
<p><strong>æ€»ç»“:</strong></p>
<ol>
<li>ç»“è®ºä¸æŒ‡å®šé˜Ÿåˆ—å¤§å°, é»˜è®¤å€¼ä¸º int æœ€å¤§å€¼</li>
<li>ååé‡è¦æ¯”ArrayBlockingQueueé«˜</li>
<li>é“¾è¡¨æœ‰ç•Œé˜Ÿåˆ—</li>
<li>ä¸å¯åŠ å…¥å…¬å¹³ç­–ç•¥</li>
<li>æ’å…¥æ—¶æä¾›äº†å¯æŠ›å‡ºå¼‚å¸¸æ“ä½œ</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
<hr>
<h3 id="3-LinkedBlockingDeque-æœ‰ç•Œ"><a href="#3-LinkedBlockingDeque-æœ‰ç•Œ" class="headerlink" title="3. LinkedBlockingDeque[æœ‰ç•Œ]"></a>3. LinkedBlockingDeque[æœ‰ç•Œ]</h3><p>é€šè¿‡é“¾è¡¨å®ç°çš„ä¸€ä¸ªåŒç«¯é˜»å¡é˜Ÿåˆ—(LikedBlockingQueueå¢åŠ äº†é˜Ÿå°¾çš„æ“ä½œ)</p>
<p>è¯¥é˜Ÿåˆ—å¢åŠ äº†ä¸€ç»„é˜Ÿé¦–é˜Ÿå°¾çš„æ“ä½œæ–¹æ³•</p>
<figure class="highlight xl"><table><tr><td class="code"><pre><code class="hljs xl"><span class="hljs-function"><span class="hljs-title">add</span> -&gt;</span> addFirst(push)/addLast<br><br><span class="hljs-function"><span class="hljs-title">offer</span> -&gt;</span> offerFirst/offerLast<br><br><span class="hljs-function"><span class="hljs-title">offer</span>(<span class="hljs-built_in">time</span>) -&gt;</span>offerFirst(<span class="hljs-built_in">time</span>)/offerLast(<span class="hljs-built_in">time</span>)<br><br><span class="hljs-function"><span class="hljs-title">peek</span> -&gt;</span> peekFirst/peekLast<br><br><span class="hljs-function"><span class="hljs-title">poll</span> -&gt;</span> pollFirst/pollLast<br><br><span class="hljs-function"><span class="hljs-title">poll</span>(<span class="hljs-built_in">time</span>) -&gt;</span> pollFirst(<span class="hljs-built_in">time</span>)/pollLast(<span class="hljs-built_in">time</span>)<br><br><span class="hljs-function"><span class="hljs-title">put</span> -&gt;</span> putFrist/putLast<br></code></pre></td></tr></table></figure>

<p>å¢åŠ ç±»(add/put/offer) åŸæ–¹æ³•è°ƒç”¨ä¸å…¶è°ƒç”¨ç›¸åŒå‰ç¼€lastæ–¹æ³•æ“ä½œç›¸åŒ</p>
<p><code>ä¾‹: add = addLast ; put = putLast</code></p>
<p>è·å–ç±»(peek/poll/element) åŸæ–¹æ³•è°ƒç”¨ä¸å…¶è°ƒç”¨ç›¸åŒå‰ç¼€firstæ–¹æ³•æ“ä½œç›¸åŒ</p>
<p><code>ä¾‹: peek = peekFirst; poll = peekFirst</code></p>
<h4 id="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ-2"><a href="#å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ-2" class="headerlink" title="å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ"></a>å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</h4><p>add æ–¹æ³•åœ¨é˜Ÿåˆ—å®¹é‡è¾¾åˆ°æœ€å¤§å€¼æ—¶æŠ›å‡ºå¼‚å¸¸  <code> throw new IllegalStateException(&quot;Deque full&quot;);</code></p>
<h4 id="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶-2"><a href="#é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶-2" class="headerlink" title="é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶"></a>é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</h4><p>element/getFirst/getLast æ–¹æ³•åœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶æŠ›å‡ºå¼‚å¸¸ <code>if (x == null) throw new NoSuchElementException();</code></p>
<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>å¦‚æœåˆ›å»ºé˜Ÿåˆ—æ—¶ä¸æŒ‡å®šé˜Ÿåˆ—å¤§å°, é»˜è®¤å€¼ä¸º int æœ€å¤§å€¼</li>
<li>ååé‡è¦æ¯”LinkedBlockingQueueé«˜</li>
<li>é“¾è¡¨æœ‰ç•ŒåŒç«¯é˜Ÿåˆ—</li>
<li>ä¸å¯åŠ å…¥å…¬å¹³ç­–ç•¥</li>
<li>æ’å…¥æ—¶æä¾›äº†å¯æŠ›å‡ºå¼‚å¸¸æ“ä½œ</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
<li>å¯ä»¥é€šè¿‡é˜Ÿé¦–é˜Ÿå°¾æ’å…¥æˆ–å–å‡ºå…ƒç´ </li>
</ol>
<hr>
<h3 id="4-LinkedTransferQueue-æ— ç•Œ"><a href="#4-LinkedTransferQueue-æ— ç•Œ" class="headerlink" title="4. LinkedTransferQueue[æ— ç•Œ]"></a>4. LinkedTransferQueue[æ— ç•Œ]</h3><p>ä¸€ä¸ªç”±é“¾è¡¨å®ç°çš„æ— ç•Œè½¬æ¢é˜Ÿåˆ—, ç›¸å¯¹ [LinkedBlockingQueue](#2. LinkedBlockingQueue[æœ‰ç•Œ]) å¢åŠ äº†å‡ ä¸ªæ–¹æ³•</p>
<h4 id="1-transfer-E-e"><a href="#1-transfer-E-e" class="headerlink" title="1.transfer(E e)"></a>1.transfer(E e)</h4><blockquote>
<p>ç­‰å¾…æ¶ˆè´¹è€…è°ƒç”¨è¿”å›</p>
</blockquote>
<p>å‘é˜Ÿåˆ—çš„è°ƒç”¨é˜»å¡è€…ç›´æ¥æä¾›å…ƒç´ , å¦‚æœæ²¡æœ‰äººæ¥è·å–, åˆ™å°†è¿™ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿå°¾, å½“è¿™ä¸ªå…ƒç´ å‡ºé˜Ÿçš„æ—¶å€™è¿”å›, å¦åˆ™ä¸€ç›´é˜»å¡</p>
<h4 id="2-tryTransfer-E-e"><a href="#2-tryTransfer-E-e" class="headerlink" title="2.tryTransfer(E e)"></a>2.tryTransfer(E e)</h4><blockquote>
<p>è°ƒç”¨ä¸€æ¬¡å³è¿”å›</p>
</blockquote>
<p>å°è¯•å‘é˜Ÿåˆ—çš„è°ƒç”¨é˜»å¡è€…ç›´æ¥æä¾›å…ƒç´ , ç«‹å³è¿”å›false or true, æä¾›çš„å…ƒç´ ä¸å…¥é˜Ÿ.</p>
<h4 id="3-tryTransfer-E-e-long-timeout-TimeUnit-unit"><a href="#3-tryTransfer-E-e-long-timeout-TimeUnit-unit" class="headerlink" title="3.tryTransfer(E e, long timeout, TimeUnit unit)"></a>3.tryTransfer(E e, long timeout, TimeUnit unit)</h4><blockquote>
<p>ç­‰å¾…æ¶ˆè´¹è€…è°ƒç”¨è¿”å›, ä¸€å®šæ—¶é—´å†…ç­‰ä¸åˆ°äº¦è¿”å›</p>
</blockquote>
<p>åœ¨ tryTransfer çš„åŸºç¡€ä¸ŠåŠ å…¥äº†æ—¶é—´, åœ¨ç»™å®šæ—¶é—´å†…å°è¯•</p>
<p>å¦‚æœæœ‰é˜»å¡è°ƒç”¨è€…ç›´æ¥è°ƒç”¨è¯¥é˜Ÿåˆ—çš„take æˆ–è€… poll(time) æ–¹æ³•, é˜»å¡çŠ¶æ€ä¸‹è¿”å›è¯¥å€¼</p>
<p>å¦‚æœæœªæœ‰é˜»å¡è°ƒç”¨è€…è°ƒç”¨, å°†å…ƒç´ æ”¾å…¥é˜Ÿå°¾, å½“åœ¨ç»™å®šæ—¶é—´å†…è¢«è°ƒç”¨ è¿”å› true, å¦‚æœåœ¨ç»™å®šæ—¶é—´å†…æœªè¢«è°ƒç”¨, è¿”å›false ä¸”å…ƒç´ ä»é˜Ÿåˆ—ä¸­ç§»é™¤.</p>
<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>åˆ›å»ºæ—¶æ— éœ€æŒ‡å®šé˜Ÿåˆ—å¤§å°, ä¸”æ— æœ€å¤§å€¼å³æ— é˜»å¡æ’å…¥çŸ¥é“å†…å­˜æº¢å‡º</li>
<li>ååé‡è¦æ¯”LinkedBlockingQueueé«˜</li>
<li>é“¾è¡¨æ— ç•Œé˜Ÿåˆ—</li>
<li>åœ¨è°ƒç”¨é˜Ÿåˆ—å…ƒç´ è¢«é˜»å¡æ—¶, æä¾›äº†å¯ä»¥å°†å…¥é˜Ÿå…ƒç´ ç›´æ¥è¿”å›çš„ transferæ–¹æ³•</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
<hr>
<h3 id="5-PriorityBlockingQueue-æ— ç•Œ"><a href="#5-PriorityBlockingQueue-æ— ç•Œ" class="headerlink" title="5. PriorityBlockingQueue[æ— ç•Œ]"></a>5. PriorityBlockingQueue[æ— ç•Œ]</h3><p>ä¸€ä¸ªä½¿ç”¨æ•°ç»„ + æ¯”è¾ƒå™¨å®ç°çš„ä¼˜å…ˆçº§é˜Ÿåˆ—</p>
<p>è¿™ä¸ªé˜Ÿåˆ—ä½¿ç”¨äº†äºŒå‰å †æ’åºçš„æ–¹å¼æ¥å®ç°ä¼˜å…ˆçº§</p>
<p>å…³äºè¿™ä¸ªé˜Ÿåˆ—çš„é‡ç‚¹å†…å®¹ä¹Ÿæ˜¯åœ¨äºŒå‰å †æ’åºä¸Š, è¿™é‡Œå»¶ä¼¸çš„å†…å®¹è¿˜æ˜¯æ¯”è¾ƒå¤šçš„, å †ç»“æ„, äºŒå‰å †, å †æ’åº, é€‰æ‹©æ’åºâ€¦.</p>
<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>å¦‚æœåˆ›å»ºé˜Ÿåˆ—æ—¶ä¸æŒ‡å®šé˜Ÿåˆ—å¤§å°, é»˜è®¤å€¼ä¸º 11, è¶…å‡ºæ—¶ä¸ä¼šé˜»å¡è€Œæ˜¯æ‰©å®¹(å½“æ‰©å®¹è¶…è¿‡ int æœ€å¤§å€¼ - 8 æ—¶å°†æŠ›å‡ºå †å†…å­˜æº¢å‡ºå¼‚å¸¸) æ¯æ¬¡æ‰©å®¹ä¸ºå½“å‰é˜Ÿåˆ—å¤§å°çš„ 50%</li>
<li>æ•°ç»„æ— ç•Œé˜Ÿåˆ—(æœ€å¤§é•¿åº¦ intæœ€å¤§å€¼ - 8)</li>
<li>å¦‚æœæŒ‡å®šäº†æ¯”è¾ƒå™¨, åˆ™å¿…é¡»æŒ‡å®šå¤§å°</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
<hr>
<h3 id="6-DelayQueue-æ— ç•Œ"><a href="#6-DelayQueue-æ— ç•Œ" class="headerlink" title="6. DelayQueue[æ— ç•Œ]"></a>6. DelayQueue[æ— ç•Œ]</h3><p>ä½¿ç”¨ PriorityQueue å®ç°çš„ä¸€ä¸ªæ— ç•Œå»¶è¿Ÿé˜Ÿåˆ—, ä½¿ç”¨è¿™ä¸ªé˜Ÿåˆ—éœ€è¦è‡ªå·±å®ç°ä¸€äº›å†…å®¹, åŒ…æ‹¬å»¶è¿Ÿé…ç½®ã€æ¯”è¾ƒå™¨çš„å®ç°ã€‚è¯¥é˜Ÿåˆ—å¯ä»¥ç”¨äºå®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼Œå‘¨æœŸä»»åŠ¡è°ƒåº¦</p>
<p>å½“ä½ éœ€è¦æŒ‡å®šå…ƒç´ çš„ä¼˜å…ˆçº§ï¼Œæ‰§è¡Œçš„æ—¶æœºï¼Œé‚£è¿™ä¸ªé˜Ÿåˆ—å³æ˜¯ä¸äºŒä¹‹é€‰ã€‚</p>
<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>å…ƒç´ å­˜å‚¨ä½¿ç”¨çš„ priorityqueue</li>
<li>å¯ä»¥æŒ‡å®šå…ƒç´ çš„è®¿é—®å»¶è¿Ÿæ—¶é—´åŠä¼˜å…ˆçº§</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
<hr>
<h3 id="7-SynchronousQueue-æ— å®¹é‡"><a href="#7-SynchronousQueue-æ— å®¹é‡" class="headerlink" title="7. SynchronousQueue[æ— å®¹é‡]"></a>7. SynchronousQueue[æ— å®¹é‡]</h3><p>dual queue + dual stack   åŒé˜Ÿåˆ— + åŒæ ˆå®ç°</p>
<p>è¿™ä¸ªé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„é˜Ÿåˆ—, åœ¨ JDK 1.6çš„æ—¶å€™æ”¹å†™äº†åº•å±‚å®ç°, å°±æ˜¯ç”¨äº†ä¸Šé¢æåˆ°çš„æ–¹æ³•.</p>
<p>è¿™ä¸ªé˜Ÿåˆ—æ˜¯ä¸€ä¸ªæ²¡æœ‰å®¹é‡çš„é˜Ÿåˆ—ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æ–¹æ³•ä¸Šæœ‰ä¸€äº›ä¸åŒã€‚</p>
<p>add æ–¹æ³•å°†ä¼šæŠ›å‡ºä¸€ä¸ª <code>java.lang.IllegalStateException: Queue full</code>å¼‚å¸¸</p>
<p>offer æ–¹æ³•ä¼šè¿”å›false</p>
<p>put æ–¹æ³•å°†ä¼šè¢«é˜»å¡</p>
<p>è°ƒç”¨å‡ºé˜Ÿæ–¹æ³•ä¹Ÿä¼šæœ‰ä¸€äº›é—®é¢˜</p>
<p>poll æ–¹æ³•è¿”å›null</p>
<p>take æ–¹æ³•å°†è¢«é˜»å¡</p>
<p>åŒæ­¥æ‰§è¡Œå…¥é˜Ÿå’Œå‡ºé˜Ÿå³å¯, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯¥é˜Ÿåˆ—æ˜¯ååé‡æœ€é«˜çš„é˜Ÿåˆ—åŸå› </p>
<p><strong>æ€»ç»“ :</strong></p>
<ol>
<li>æ²¡æœ‰å®¹é‡</li>
<li>ååé‡è¦æ¯”ArrayBlockingQueueä¸LinkedBlockingQueueé«˜</li>
<li>å¯åŠ å…¥å…¬å¹³ç­–ç•¥</li>
<li>æ’å…¥æ—¶æä¾›äº†å¯æŠ›å‡ºå¼‚å¸¸æ“ä½œ</li>
<li>æ’å…¥å…ƒç´ ä¸èƒ½ä¸ºç©º</li>
</ol>
</section>
    <div id="gzh_qrcode" class="nav-container" align="center">
      <h3>äº¦æˆ–ç¹æ˜Ÿã€äº¦æˆ–å°˜åŸƒã€‚æ˜Ÿå°˜âœ¨ï¼Œä¸ºäº†æ¢¦æƒ³ï¼Œå­¦ä¹ æŠ€æœ¯ï¼Œä¸è¦æŠ±æ€¨ã€åšæŒä¸‹å»ğŸ’ªã€‚</h3>
      <p>æ¬¢è¿å…³æ³¨<b style='color:blue'>æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹</b>ä¸€èµ·äº¤æµå­¦ä¹ ğŸ¤“ã€‚</p>
      <img alt="æ˜Ÿå°˜çš„ä¸€ä¸ªæœ‹å‹" src="https://i.loli.net/2020/10/22/7swJfMCPrThebVI.png">
      <p class="small-info">æ‰«ç å…³æ³¨å…¬ä¼—å·ï¼Œå›å¤<span style="color:red">â€œåŠ ç¾¤â€</span>ä¸€èµ·äº¤æµå­¦ä¹ </p>
    </div>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#å¹¶å‘ç¼–ç¨‹" >
    <span class="tag-code">å¹¶å‘ç¼–ç¨‹</span>
  </a>

      </div>
    

    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/post/opportunity.html">
        <span class="nav-arrow">â† </span>
        
          æœºé‡ï¼Œå¥‡é‡
        
      </a>
    
    
      <a class="nav-right" href="/post/java-juc-first-meet.html">
        
          åˆè¯†å¹¶å‘ç¼–ç¨‹
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
    <!-- æ‰“èµ END -->
    <!-- äºŒç»´ç  START -->
    
    <!-- äºŒç»´ç  END -->
    
      <!-- gitalk START -->
      <div id="gitalk-container"></div>
      
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'c85c431dec5b3fa75527',
        clientSecret: 'f5f4199617efe01a998333307bb1008a09b4a2d7',
        repo: 'gitalk',
        owner: 'lvgocc',
        admin: 'lvgocc',
        id: '9f61d62edc707ae4fa9439bad200878c',
        pagerDirection: 'last',
        distractionFreeMode: 'false'
    })
    gitalk.render('gitalk-container')
</script>
      <!-- gitalk END -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%BA%8F"><span class="toc-nav-text">åº</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%88%91%E4%B9%9F%E6%9D%A5%E8%AF%B4%E4%B8%80%E8%AF%B4Java%E7%9A%847%E4%B8%AA%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97"><span class="toc-nav-text">æˆ‘ä¹Ÿæ¥è¯´ä¸€è¯´Javaçš„7ä¸ªé˜»å¡é˜Ÿåˆ—</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#1-ArrayBlockingQueue-%E6%9C%89%E7%95%8C"><span class="toc-nav-text">1. ArrayBlockingQueue[æœ‰ç•Œ]</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%85%83%E7%B4%A0%E8%BE%BE%E5%88%B0%E9%98%9F%E5%88%97%E5%AE%B9%E9%87%8F%E4%B8%8A%E9%99%90%E6%97%B6%E5%86%8D%E5%85%A5%E9%98%9F"><span class="toc-nav-text">å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%98%9F%E5%88%97%E4%B8%BA%E7%A9%BA%E6%97%B6%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%97%B6"><span class="toc-nav-text">é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#2-LinkedBlockingQueue-%E6%9C%89%E7%95%8C"><span class="toc-nav-text">2. LinkedBlockingQueue[æœ‰ç•Œ]</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%85%83%E7%B4%A0%E8%BE%BE%E5%88%B0%E9%98%9F%E5%88%97%E5%AE%B9%E9%87%8F%E4%B8%8A%E9%99%90%E6%97%B6%E5%86%8D%E5%85%A5%E9%98%9F-1"><span class="toc-nav-text">å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%98%9F%E5%88%97%E4%B8%BA%E7%A9%BA%E6%97%B6%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%97%B6-1"><span class="toc-nav-text">é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#3-LinkedBlockingDeque-%E6%9C%89%E7%95%8C"><span class="toc-nav-text">3. LinkedBlockingDeque[æœ‰ç•Œ]</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%85%83%E7%B4%A0%E8%BE%BE%E5%88%B0%E9%98%9F%E5%88%97%E5%AE%B9%E9%87%8F%E4%B8%8A%E9%99%90%E6%97%B6%E5%86%8D%E5%85%A5%E9%98%9F-2"><span class="toc-nav-text">å…ƒç´ è¾¾åˆ°é˜Ÿåˆ—å®¹é‡ä¸Šé™æ—¶å†å…¥é˜Ÿ</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%98%9F%E5%88%97%E4%B8%BA%E7%A9%BA%E6%97%B6%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%97%B6-2"><span class="toc-nav-text">é˜Ÿåˆ—ä¸ºç©ºæ—¶è·å–å…ƒç´ æ—¶</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#4-LinkedTransferQueue-%E6%97%A0%E7%95%8C"><span class="toc-nav-text">4. LinkedTransferQueue[æ— ç•Œ]</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-transfer-E-e"><span class="toc-nav-text">1.transfer(E e)</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#2-tryTransfer-E-e"><span class="toc-nav-text">2.tryTransfer(E e)</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-tryTransfer-E-e-long-timeout-TimeUnit-unit"><span class="toc-nav-text">3.tryTransfer(E e, long timeout, TimeUnit unit)</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#5-PriorityBlockingQueue-%E6%97%A0%E7%95%8C"><span class="toc-nav-text">5. PriorityBlockingQueue[æ— ç•Œ]</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#6-DelayQueue-%E6%97%A0%E7%95%8C"><span class="toc-nav-text">6. DelayQueue[æ— ç•Œ]</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#7-SynchronousQueue-%E6%97%A0%E5%AE%B9%E9%87%8F"><span class="toc-nav-text">7. SynchronousQueue[æ— å®¹é‡]</span></a></li></ol></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://lvgo.org//post/java-juc-blockingqueue.html';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

    // zoom image
    

    
    /**
     * Wrap images with fancybox support.
     */
    $('img').not('.logo img').each(function() {
      var $image = $(this);
      var imageCaption = $image.attr('alt');
      var $imageWrapLink = $image.parent('a');

      if ($imageWrapLink.length < 1) {
        var src = this.getAttribute('src');
        var idx = src.lastIndexOf('?');
        if (idx != -1) {
          src = src.substring(0, idx);
        }
        $imageWrapLink = $image.wrap('<a href="' + src + '"></a>').parent('a');
      }

      $imageWrapLink.attr('data-fancybox', 'images');
      if (imageCaption) {
        $imageWrapLink.attr('data-caption', imageCaption);
      }

    });

    $().fancybox({
      selector: '[data-fancybox="images"]',
      thumbs: false,
      hash: true,
      loop: false,
      fullScreen: true,
      slideShow: false,
      protect: true,
    });
    

  })();
</script>







    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2020 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    Theme by <a target="_blank" rel="noopener" href="https://github.com/lvgocc">lvgocc</a>
  </p>
</footer>
<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1279372106'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1279372106' type='text/javascript'%3E%3C/script%3E"));</script>
<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async('//lib.baomitu.com/fastclick/1.0.6/fastclick.min.js', function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'false';
  async('//lib.baomitu.com/highlight.js/9.15.10/highlight.min.js', function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>